@model IEnumerable<SportStore.Models.Product>

<div class="container">
    <section id="products" class="py-4">
        <div class="row g-4">
            @foreach (var item in Model)
            {
                var detail = item.ProductDetails.FirstOrDefault();
                <div class="col-lg-3 col-md-4 col-sm-6">
                    <div class="card product-card h-100 shadow-sm">
                        <div class="product-img-wrapper position-relative">
                            <span class="product-badge position-absolute top-0 start-0 m-2 badge bg-danger">
                                -30%
                            </span>
                            <img src="~/images/@item.Img"
                                 class="product-img card-img-top"
                                 asp-append-version="true"
                                 alt="@item.FullName"
                                 style="height: 250px; object-fit: cover;" />
                        </div>
                        <div class="card-body d-flex flex-column">
                            <h6 class="product-title card-title mb-2">@item.FullName</h6>
                            <p class="text-muted small mb-2">@item.Brand</p>
                            <div class="product-price fw-bold text-primary mb-3">
                                @detail.Price.ToString("N0") VNĐ
                            </div>
                            <div class="mt-auto">
                                <a class="btn btn-primary w-100"
                                   asp-controller="Customers"
                                   asp-action="AddToCart"
                                   asp-route-id="@detail.ProductDetailId">
                                    <i class="bi bi-cart-plus"></i> Thêm vào giỏ
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            }
        </div>
    </section>
</div>