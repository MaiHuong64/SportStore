<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SportShop - Đồ Thể Thao Chính Hãng</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="~/css/app.css" />
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark sticky-top">
        <div class="container">
            <a class="navbar-brand" asp-controller="Main" asp-action="Index">
                <i class="bi bi-trophy-fill"></i> SportShop
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" asp-controller="Main" asp-action="Index">Trang chủ</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" asp-controller="Main" asp-action="Index">Sản phẩm</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#categories">Danh mục</a>
                    </li>
                </ul>

                <form asp-controller="Main" asp-action="Search" class="navbar-search">
                    <div class="input-group">
                        <input name="keyword" type="text" class="form-control" placeholder="Tìm kiếm sản phẩm...">
                        <input type="submit" value="Search" class="btn btn-outline-light" /> <i class="bi bi-search"></i>
                    </div>
                </form>

                <div class="navbar-actions">
                    <a asp-controller="Customers" asp-action="ViewCart" class="nav-link">
                        <i class="bi bi-cart3"></i> Giỏ hàng
                        <span class="badge bg-danger text-white ms-1 rounded-pill">
                            @{
                                var cartJson = Context.Session.GetString("shopcart");
                                var cartCount = 0;
                                if (!string.IsNullOrEmpty(cartJson))
                                {
                                    var cart = Newtonsoft.Json.JsonConvert.DeserializeObject<List<dynamic>>(cartJson);
                                    cartCount = cart?.Count ?? 0;
                                }
                            }
                            @cartCount
                        </span>
                    </a>

                    @if (Context.Session.GetString("FullName") != null)
                    {
                        <div class="dropdown">
                            <button class="btn btn-outline-light dropdown-toggle" type="button" id="userDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                                <i class="bi bi-person-circle"></i> @Context.Session.GetString("FullName")
                            </button>
                            <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
                                <li>
                                    <a class="dropdown-item" asp-controller="Accounts" asp-action="CustomerInfo">
                                        <i class="bi bi-person"></i> Thông tin tài khoản
                                    </a>
                                </li>
                                <li>
                                    <a class="dropdown-item" asp-controller="Accounts" asp-action="CustomerInfo">
                                        <i class="bi bi-box-seam"></i> Đơn hàng của tôi
                                    </a>
                                </li>
                                <li><hr class="dropdown-divider"></li>
                                <li>
                                    <a class="dropdown-item text-danger" asp-controller="Accounts" asp-action="Logout">
                                        <i class="bi bi-box-arrow-right"></i> Đăng xuất
                                    </a>
                                </li>
                            </ul>
                        </div>
                    }
                    else
                    {
                        <a asp-controller="Accounts" asp-action="Login" class="btn btn-outline-light">
                            <i class="bi bi-person"></i> Đăng nhập
                        </a>
                    }
                </div>
            </div>
        </div>
    </nav>
    @{
        var actionName = ViewContext.RouteData.Values["action"]?.ToString();
    }

    @if (actionName == "Index")
    {
        <section class="hero-slider">
            <div id="heroCarousel" class="carousel slide" data-bs-ride="carousel">
                <div class="carousel-indicators">
                    <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="0" class="active"></button>
                    <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="1"></button>
                    <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="2"></button>
                    <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="3"></button>
                    <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="4"></button>
                </div>
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <div class="hero-slide" style="background: linear-gradient(135deg, rgba(44, 62, 80, 0.9) 0%, rgba(52, 73, 94, 0.85) 100%), url('https://images.unsplash.com/photo-1606107557195-0e29a4b5b4aa?w=1200') center/cover;">
                            <div class="container">
                                <div class="row align-items-center" style="min-height: 500px;">
                                    <div class="col-lg-6">
                                        <h1 class="display-3 fw-bold text-white mb-3">Bộ Sưu Tập Mùa Hè 2025</h1>
                                        <p class="lead mb-4" style="color: rgba(255,255,255,0.85);">Giảm giá lên đến 50% cho tất cả sản phẩm Nike, Adidas</p>
                                        <a href="#products" class="btn btn-hero">Mua Ngay</a>
                                    </div>
                                    <div class="col-lg-6 text-center">
                                        <img src="https://images.unsplash.com/photo-1606107557195-0e29a4b5b4aa?w=600" alt="Nike Shoes" class="img-fluid" style="max-height: 380px; filter: drop-shadow(0 20px 40px rgba(0,0,0,0.6));">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <div class="hero-slide" style="background: linear-gradient(135deg, rgba(44, 62, 80, 0.9) 0%, rgba(52, 152, 219, 0.75) 100%), url('https://images.unsplash.com/photo-1539185441755-769473a23570?w=1200') center/cover;">
                            <div class="container">
                                <div class="row align-items-center" style="min-height: 500px;">
                                    <div class="col-lg-6">
                                        <h1 class="display-3 fw-bold text-white mb-3">Giày Chạy Bộ Cao Cấp</h1>
                                        <p class="lead mb-4" style="color: rgba(255,255,255,0.85);">Công nghệ đệm mới nhất, êm ái từng bước chạy</p>
                                        <a href="#products" class="btn btn-hero">Khám Phá</a>
                                    </div>
                                    <div class="col-lg-6 text-center">
                                        <img src="https://images.unsplash.com/photo-1539185441755-769473a23570?w=600" alt="Running Shoes" class="img-fluid" style="max-height: 380px; filter: drop-shadow(0 20px 40px rgba(0,0,0,0.6));">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <div class="hero-slide" style="background: linear-gradient(135deg, rgba(44, 62, 80, 0.9) 0%, rgba(39, 174, 96, 0.75) 100%), url('https://images.unsplash.com/photo-1491553895911-0055eca6402d?w=1200') center/cover;">
                            <div class="container">
                                <div class="row align-items-center" style="min-height: 500px;">
                                    <div class="col-lg-6">
                                        <h1 class="display-3 fw-bold text-white mb-3">Miễn Phí Vận Chuyển</h1>
                                        <p class="lead mb-4" style="color: rgba(255,255,255,0.85);">Cho đơn hàng từ 500.000đ trên toàn quốc</p>
                                        <a href="#products" class="btn btn-hero">Mua Sắm</a>
                                    </div>
                                    <div class="col-lg-6 text-center">
                                        <img src="https://images.unsplash.com/photo-1491553895911-0055eca6402d?w=600" alt="Sneakers" class="img-fluid" style="max-height: 380px; filter: drop-shadow(0 20px 40px rgba(0,0,0,0.6));">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <div class="hero-slide" style="background: linear-gradient(135deg, rgba(44, 62, 80, 0.9) 0%, rgba(243, 156, 18, 0.75) 100%), url('https://images.unsplash.com/photo-1605348532760-6753d2c43329?w=1200') center/cover;">
                            <div class="container">
                                <div class="row align-items-center" style="min-height: 500px;">
                                    <div class="col-lg-6">
                                        <h1 class="display-3 fw-bold text-white mb-3">Adidas Ultraboost</h1>
                                        <p class="lead mb-4" style="color: rgba(255,255,255,0.85);">Trải nghiệm đế Boost đỉnh cao, năng lượng trở lại mỗi bước</p>
                                        <a href="#products" class="btn btn-hero">Xem Ngay</a>
                                    </div>
                                    <div class="col-lg-6 text-center">
                                        <img src="https://images.unsplash.com/photo-1605348532760-6753d2c43329?w=600" alt="Adidas Ultraboost" class="img-fluid" style="max-height: 380px; filter: drop-shadow(0 20px 40px rgba(0,0,0,0.6));">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <div class="hero-slide" style="background: linear-gradient(135deg, rgba(44, 62, 80, 0.9) 0%, rgba(231, 76, 60, 0.75) 100%), url('https://images.unsplash.com/photo-1595950653106-6c9ebd614d3a?w=1200') center/cover;">
                            <div class="container">
                                <div class="row align-items-center" style="min-height: 500px;">
                                    <div class="col-lg-6">
                                        <h1 class="display-3 fw-bold text-white mb-3">Giày Bóng Rổ Pro</h1>
                                        <p class="lead mb-4" style="color: rgba(255,255,255,0.85);">Thiết kế đỉnh cao cho vận động viên chuyên nghiệp</p>
                                        <a href="#products" class="btn btn-hero">Đặt Hàng</a>
                                    </div>
                                    <div class="col-lg-6 text-center">
                                        <img src="https://images.unsplash.com/photo-1595950653106-6c9ebd614d3a?w=600" alt="Basketball Shoes" class="img-fluid" style="max-height: 380px; filter: drop-shadow(0 20px 40px rgba(0,0,0,0.6));">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#heroCarousel" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon"></span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#heroCarousel" data-bs-slide="next">
                    <span class="carousel-control-next-icon"></span>
                </button>
            </div>
        </section>            
    }

    <section id="products" class="py-5 bg-light">
        <div class="container">
            @RenderBody()
        </div>
    </section>

    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="col-md-4 mb-4">
                    <h5><i class="bi bi-trophy-fill"></i> SportShop</h5>
                    <p class="text-muted">Cửa hàng đồ thể thao uy tín hàng đầu Việt Nam. Chuyên cung cấp các sản phẩm chính hãng từ Nike, Adidas, Puma...</p>
                    <div class="social-icons">
                        <a href="#"><i class="bi bi-facebook"></i></a>
                        <a href="#"><i class="bi bi-instagram"></i></a>
                        <a href="#"><i class="bi bi-youtube"></i></a>
                        <a href="#"><i class="bi bi-tiktok"></i></a>
                    </div>
                </div>
                <div class="col-md-2 mb-4">
                    <h5>Về chúng tôi</h5>
                    <ul class="list-unstyled">
                        <li class="mb-2"><a href="#">Giới thiệu</a></li>
                        <li class="mb-2"><a href="#">Tin tức</a></li>
                        <li class="mb-2"><a href="#">Tuyển dụng</a></li>
                        <li class="mb-2"><a href="#">Liên hệ</a></li>
                    </ul>
                </div>
                <div class="col-md-2 mb-4">
                    <h5>Chính sách</h5>
                    <ul class="list-unstyled">
                        <li class="mb-2"><a href="#">Chính sách đổi trả</a></li>
                        <li class="mb-2"><a href="#">Bảo mật thông tin</a></li>
                        <li class="mb-2"><a href="#">Vận chuyển</a></li>
                        <li class="mb-2"><a href="#">Thanh toán</a></li>
                    </ul>
                </div>
                <div class="col-md-4 mb-4">
                    <h5>Liên hệ</h5>
                    <ul class="list-unstyled">
                        <li class="mb-2"><i class="bi bi-geo-alt"></i> 123 Đường ABC, Quận 1, TP.HCM</li>
                        <li class="mb-2"><i class="bi bi-telephone"></i> 1900 1234</li>
                        <li class="mb-2"><i class="bi bi-envelope"></i> support@sportshop.vn</li>
                    </ul>
                </div>
            </div>
            <hr class="bg-white">
            <div class="text-center">
                <p class="mb-0">&copy; 2025 SportShop. All rights reserved.</p>
            </div>
        </div>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>